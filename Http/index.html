<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Nginx配置 | lious</title>
    <meta name="generator" content="VuePress 1.5.1">
    
    <meta name="description" content="前端开发空间站">
    <link rel="preload" href="/Blog/assets/css/0.styles.16d8b4f8.css" as="style"><link rel="preload" href="/Blog/assets/js/app.9c47bd80.js" as="script"><link rel="preload" href="/Blog/assets/js/2.b786c2ed.js" as="script"><link rel="preload" href="/Blog/assets/js/6.99fdf330.js" as="script"><link rel="prefetch" href="/Blog/assets/js/10.2ae6b466.js"><link rel="prefetch" href="/Blog/assets/js/11.533bbb72.js"><link rel="prefetch" href="/Blog/assets/js/12.8e74b9fc.js"><link rel="prefetch" href="/Blog/assets/js/13.2be3647b.js"><link rel="prefetch" href="/Blog/assets/js/14.1badd55b.js"><link rel="prefetch" href="/Blog/assets/js/15.f7f64fd6.js"><link rel="prefetch" href="/Blog/assets/js/16.72a686a6.js"><link rel="prefetch" href="/Blog/assets/js/17.db6d94f8.js"><link rel="prefetch" href="/Blog/assets/js/18.bc0ab2ef.js"><link rel="prefetch" href="/Blog/assets/js/19.e02c1cba.js"><link rel="prefetch" href="/Blog/assets/js/20.d91c50f5.js"><link rel="prefetch" href="/Blog/assets/js/21.22b161ae.js"><link rel="prefetch" href="/Blog/assets/js/22.bc2dea31.js"><link rel="prefetch" href="/Blog/assets/js/23.8e66fc0e.js"><link rel="prefetch" href="/Blog/assets/js/24.bcb02ed7.js"><link rel="prefetch" href="/Blog/assets/js/25.086b542b.js"><link rel="prefetch" href="/Blog/assets/js/26.b4fa9650.js"><link rel="prefetch" href="/Blog/assets/js/27.56fc3609.js"><link rel="prefetch" href="/Blog/assets/js/28.482e48d5.js"><link rel="prefetch" href="/Blog/assets/js/29.08475c58.js"><link rel="prefetch" href="/Blog/assets/js/3.686b262b.js"><link rel="prefetch" href="/Blog/assets/js/30.ba2aca8b.js"><link rel="prefetch" href="/Blog/assets/js/31.5d7b81c9.js"><link rel="prefetch" href="/Blog/assets/js/32.72d44b49.js"><link rel="prefetch" href="/Blog/assets/js/33.25e091aa.js"><link rel="prefetch" href="/Blog/assets/js/34.0b495ba3.js"><link rel="prefetch" href="/Blog/assets/js/35.0c41c066.js"><link rel="prefetch" href="/Blog/assets/js/36.5cb79c2b.js"><link rel="prefetch" href="/Blog/assets/js/37.ad8db7c0.js"><link rel="prefetch" href="/Blog/assets/js/38.1f99eb01.js"><link rel="prefetch" href="/Blog/assets/js/39.b05cd399.js"><link rel="prefetch" href="/Blog/assets/js/4.94ea306f.js"><link rel="prefetch" href="/Blog/assets/js/40.ec81b87a.js"><link rel="prefetch" href="/Blog/assets/js/41.6f245bcc.js"><link rel="prefetch" href="/Blog/assets/js/42.2a727e6b.js"><link rel="prefetch" href="/Blog/assets/js/43.2e2eee59.js"><link rel="prefetch" href="/Blog/assets/js/44.36c49c87.js"><link rel="prefetch" href="/Blog/assets/js/45.cb2389f6.js"><link rel="prefetch" href="/Blog/assets/js/46.6f746980.js"><link rel="prefetch" href="/Blog/assets/js/47.7987c6b9.js"><link rel="prefetch" href="/Blog/assets/js/48.15d01434.js"><link rel="prefetch" href="/Blog/assets/js/49.728714a6.js"><link rel="prefetch" href="/Blog/assets/js/5.c5721a11.js"><link rel="prefetch" href="/Blog/assets/js/7.f8ea1854.js"><link rel="prefetch" href="/Blog/assets/js/8.f72b32ca.js"><link rel="prefetch" href="/Blog/assets/js/9.9a3b5fa5.js">
    <link rel="stylesheet" href="/Blog/assets/css/0.styles.16d8b4f8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Blog/" class="home-link router-link-active"><!----> <span class="site-name">lious</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Blog/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/Blog/JavaScript/" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><a href="/Blog/es6/" class="nav-link">
  ES6
</a></div><div class="nav-item"><a href="/Blog/Vue/" class="nav-link">
  Vue
</a></div><div class="nav-item"><a href="/Blog/React/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/Blog/Webpack/" class="nav-link">
  Webpack
</a></div><div class="nav-item"><a href="/Blog/git/" class="nav-link">
  Git
</a></div><div class="nav-item"><a href="/Blog/Websocket/" class="nav-link">
  Websocket
</a></div><div class="nav-item"><a href="/Blog/Http/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  HTTP
</a></div><div class="nav-item"><a href="/Blog/Difficulties/" class="nav-link">
  前端难点集中
</a></div><div class="nav-item"><a href="/Blog/Algorithm/" class="nav-link">
  前端算法
</a></div><div class="nav-item"><a href="/Blog/Node/" class="nav-link">
  Node
</a></div><div class="nav-item"><a href="/Blog/Plan/" class="nav-link">
  PLAN
</a></div><div class="nav-item"><a href="/Blog/Type-Script/" class="nav-link">
  Type-Script
</a></div><div class="nav-item"><a href="/Blog/Gu/" class="nav-link">
  GU
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Blog/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/Blog/JavaScript/" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><a href="/Blog/es6/" class="nav-link">
  ES6
</a></div><div class="nav-item"><a href="/Blog/Vue/" class="nav-link">
  Vue
</a></div><div class="nav-item"><a href="/Blog/React/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/Blog/Webpack/" class="nav-link">
  Webpack
</a></div><div class="nav-item"><a href="/Blog/git/" class="nav-link">
  Git
</a></div><div class="nav-item"><a href="/Blog/Websocket/" class="nav-link">
  Websocket
</a></div><div class="nav-item"><a href="/Blog/Http/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  HTTP
</a></div><div class="nav-item"><a href="/Blog/Difficulties/" class="nav-link">
  前端难点集中
</a></div><div class="nav-item"><a href="/Blog/Algorithm/" class="nav-link">
  前端算法
</a></div><div class="nav-item"><a href="/Blog/Node/" class="nav-link">
  Node
</a></div><div class="nav-item"><a href="/Blog/Plan/" class="nav-link">
  PLAN
</a></div><div class="nav-item"><a href="/Blog/Type-Script/" class="nav-link">
  Type-Script
</a></div><div class="nav-item"><a href="/Blog/Gu/" class="nav-link">
  GU
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/Blog/Http/" aria-current="page" class="active sidebar-link">Http</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/Http/#nginx配置" class="sidebar-link">Nginx配置</a></li><li class="sidebar-sub-header"><a href="/Blog/Http/#http" class="sidebar-link">HTTP</a></li><li class="sidebar-sub-header"><a href="/Blog/Http/#http-结构报文" class="sidebar-link">Http 结构报文</a></li><li class="sidebar-sub-header"><a href="/Blog/Http/#http1-1-请求方法" class="sidebar-link">Http1.1 请求方法</a></li><li class="sidebar-sub-header"><a href="/Blog/Http/#url" class="sidebar-link">URL</a></li><li class="sidebar-sub-header"><a href="/Blog/Http/#http-状态码" class="sidebar-link">Http 状态码</a></li><li class="sidebar-sub-header"><a href="/Blog/Http/#http-特点-缺点" class="sidebar-link">Http 特点 缺点</a></li><li class="sidebar-sub-header"><a href="/Blog/Http/#accept-接受参数" class="sidebar-link">Accept 接受参数</a></li><li class="sidebar-sub-header"><a href="/Blog/Http/#定长包体和不定长包体" class="sidebar-link">定长包体和不定长包体</a></li><li class="sidebar-sub-header"><a href="/Blog/Http/#http中处理表单的数据提交" class="sidebar-link">HTTP中处理表单的数据提交</a></li><li class="sidebar-sub-header"><a href="/Blog/Http/#http1-1解决http的队头阻塞问题" class="sidebar-link">HTTP1.1解决HTTP的队头阻塞问题</a></li><li class="sidebar-sub-header"><a href="/Blog/Http/#cookie" class="sidebar-link">Cookie</a></li><li class="sidebar-sub-header"><a href="/Blog/Http/#http代理" class="sidebar-link">HTTP代理</a></li><li class="sidebar-sub-header"><a href="/Blog/Http/#http缓存" class="sidebar-link">HTTP缓存</a></li><li class="sidebar-sub-header"><a href="/Blog/Http/#跨域" class="sidebar-link">跨域</a></li><li class="sidebar-sub-header"><a href="/Blog/Http/#nginx" class="sidebar-link">Nginx</a></li><li class="sidebar-sub-header"><a href="/Blog/Http/#dns" class="sidebar-link">DNS</a></li><li class="sidebar-sub-header"><a href="/Blog/Http/#http1-0" class="sidebar-link">HTTP1.0</a></li><li class="sidebar-sub-header"><a href="/Blog/Http/#http1-1" class="sidebar-link">HTTP1.1</a></li><li class="sidebar-sub-header"><a href="/Blog/Http/#http2-0" class="sidebar-link">HTTP2.0</a></li><li class="sidebar-sub-header"><a href="/Blog/Http/#_301-302" class="sidebar-link">301 302</a></li><li class="sidebar-sub-header"><a href="/Blog/Http/#_304" class="sidebar-link">304</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="nginx配置"><a href="#nginx配置" class="header-anchor">#</a> Nginx配置</h2> <h4 id="nginx是一个高性能的http和反向代理服务器。是一种轻量级的web服务器，可以作为独立的服务器部署网站（类似tomcat）。有高性能和低消耗内存的结构。"><a href="#nginx是一个高性能的http和反向代理服务器。是一种轻量级的web服务器，可以作为独立的服务器部署网站（类似tomcat）。有高性能和低消耗内存的结构。" class="header-anchor">#</a> Nginx是一个高性能的HTTP和反向代理服务器。是一种轻量级的Web服务器，可以作为独立的服务器部署网站（类似Tomcat）。有高性能和低消耗内存的结构。</h4> <ol><li>先去官网下载Nginx包。（注意分清Linux和Windows版本）</li> <li>下载完成后，解压缩，解压后的文件夹直接放入C盘（C:\nginx），运行cmd进到nginx目录下，使用命令进行启动，<strong>不要直接双击nginx.exe，不要直接双击nginx.exe，不要直接双击nginx.exe</strong>。</li> <li>启动命令 <code>start nginx</code>。</li> <li>查看任务进程是否存在，dos或打开任务管理器都行 <code>tasklist /fi &quot;imagename eq nginx.exe&quot;</code></li></ol> <p><img src="data:image/png;base64,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" alt="nginx"></p> <ol start="5"><li>nginx下面logs文件下的error.log为日志文件。</li></ol> <blockquote><p>(1) 端口号被占用<br>
(2) nginx文件夹路径含中文</p></blockquote> <ol start="6"><li>修改配置文件，进入解压缩目录，在conf目录下找到nginx.conf使用txt文本打开即可，找到server这个节点，修改端口号等操作。</li></ol> <blockquote><p>listen 监听端口
location下的root为默认主页html</p></blockquote> <ol start="7"><li><p>修改完成后保存，使用以下命令检查一下配置文件是否正确，后面是nginx.conf文件的路径，successful就说明正确了  <strong>检查配置文件是否正确命令</strong><code>nginx -t -c /nginx-1.15.2/conf/nginx.conf</code></p></li> <li><p>如果程序没启动就直接start nginx启动，如果已经启动了就使用以下命令重新加载配置文件并重启  <strong>重启命令</strong><code>nginx -s reload</code></p></li> <li><p>打开浏览器访问刚才的域名及端口，例如http://localhost:8800，出现欢迎页就说明部署成功了。</p></li> <li><p>关闭nginx <code>nginx -s stop</code></p></li> <li><p>完整有序的关闭 <code>nginx -s quit</code></p></li></ol> <h4 id="优化配置"><a href="#优化配置" class="header-anchor">#</a> 优化配置</h4> <div class="language- extra-class"><pre class="language-text"><code>#user  nobody;

#==工作进程数，一般设置为cpu核心数
worker_processes  1;

#error_log  logs/error.log;
#error_log  logs/error.log  notice;
#error_log  logs/error.log  info;

#pid        logs/nginx.pid;


events {

    #==最大连接数，一般设置为cpu*2048
    worker_connections  1024;
}


http {
    include       mime.types;
    default_type  application/octet-stream;

    #log_format  main  '$remote_addr - $remote_user [$time_local] &quot;$request&quot; '
    #                  '$status $body_bytes_sent &quot;$http_referer&quot; '
    #                  '&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;';

    #access_log  logs/access.log  main;

    sendfile        on;
    #tcp_nopush     on;

    #keepalive_timeout  0;
    
    #==客户端链接超时时间
    keepalive_timeout  65;

    #gzip  on;

    #当配置多个server节点时，默认server names的缓存区大小就不够了，需要手动设置大一点
    server_names_hash_bucket_size 512;

    #server表示虚拟主机可以理解为一个站点，可以配置多个server节点搭建多个站点
    #每一个请求进来确定使用哪个server由server_name确定
    server {
        #站点监听端口
        listen       8800;
        #站点访问域名
        server_name  localhost;
        
        #编码格式，避免url参数乱码
        charset utf-8;

        #access_log  logs/host.access.log  main;

        #location用来匹配同一域名下多个URI的访问规则
        #比如动态资源如何跳转，静态资源如何跳转等
        #location后面跟着的/代表匹配规则
        location / {
            #站点根目录，可以是相对路径，也可以使绝对路径
            root   html;
            #默认主页
            index  index.html index.htm;
            
            #转发后端站点地址，一般用于做软负载，轮询后端服务器
            #proxy_pass http://10.11.12.237:8080;

            #拒绝请求，返回403，一般用于某些目录禁止访问
            #deny all;
            
            #允许请求
            #allow all;
            
            add_header 'Access-Control-Allow-Origin' '*';
            add_header 'Access-Control-Allow-Credentials' 'true';
            add_header 'Access-Control-Allow-Methods' 'GET, POST, OPTIONS';
            add_header 'Access-Control-Allow-Headers' 'DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type';
            #重新定义或者添加发往后端服务器的请求头
            #给请求头中添加客户请求主机名
            proxy_set_header Host $host;
            #给请求头中添加客户端IP
            proxy_set_header X-Real-IP $remote_addr;
            #将$remote_addr变量值添加在客户端“X-Forwarded-For”请求头的后面，并以逗号分隔。 如果客户端请求未携带“X-Forwarded-For”请求头，$proxy_add_x_forwarded_for变量值将与$remote_addr变量相同  
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            #给请求头中添加客户端的Cookie
            proxy_set_header Cookie $http_cookie;
            #将使用代理服务器的主域名和端口号来替换。如果端口是80，可以不加。
            proxy_redirect off;
            
            #浏览器对 Cookie 有很多限制，如果 Cookie 的 Domain 部分与当前页面的 Domain 不匹配就无法写入。
            #所以如果请求 A 域名，服务器 proxy_pass 到 B 域名，然后 B 服务器输出 Domian=B 的 Cookie，
            #前端的页面依然停留在 A 域名上，于是浏览器就无法将 Cookie 写入。
            
　　         #不仅是域名，浏览器对 Path 也有限制。我们经常会 proxy_pass 到目标服务器的某个 Path 下，
            #不把这个 Path 暴露给浏览器。这时候如果目标服务器的 Cookie 写死了 Path 也会出现 Cookie 无法写入的问题。
            
            #设置“Set-Cookie”响应头中的domain属性的替换文本，其值可以为一个字符串、正则表达式的模式或一个引用的变量
            #转发后端服务器如果需要Cookie则需要将cookie domain也进行转换，否则前端域名与后端域名不一致cookie就会无法存取
　　　　　　  #配置规则：proxy_cookie_domain serverDomain(后端服务器域) nginxDomain(nginx服务器域)
            proxy_cookie_domain localhost .testcaigou800.com;
            
            #取消当前配置级别的所有proxy_cookie_domain指令
            #proxy_cookie_domain off;
            #与后端服务器建立连接的超时时间。一般不可能大于75秒；
            proxy_connect_timeout 30;
        }

        #error_page  404              /404.html;

        # redirect server error pages to the static page /50x.html
        #
        error_page   500 502 503 504  /50x.html;
        location = /50x.html {
            root   html;
        }

    }
    
　　#当需要对同一端口监听多个域名时，使用如下配置，端口相同域名不同，server_name也可以使用正则进行配置
　　#但要注意server过多需要手动扩大server_names_hash_bucket_size缓存区大小
　　server {
　　　　listen 80;
　　　　server_name www.abc.com;
　　　　charset utf-8;
　　　　location / {
　　　　　　proxy_pass http://localhost:10001;
　　　　}
　　}
　　server {
　　　　listen 80;
　　　　server_name aaa.abc.com;
　　　　charset utf-8;
　　　　location / {
　　　　　　proxy_pass http://localhost:20002;
　　　　}
　　}
}
</code></pre></div><h2 id="http"><a href="#http" class="header-anchor">#</a> HTTP</h2> <h2 id="http-结构报文"><a href="#http-结构报文" class="header-anchor">#</a> Http 结构报文</h2> <p>起始行 -&gt; 头部 -&gt;空行 -&gt; 实体（请求体，响应体）</p> <ol><li>起始行：请求报文 <code>GET /home HTTP/1.1</code> 方法+路径+http版本；响应报文：<code>HTTP/1.1 200 OK</code> http版本+状态码+原因</li></ol> <h2 id="http1-1-请求方法"><a href="#http1-1-请求方法" class="header-anchor">#</a> Http1.1 请求方法</h2> <p>GET: 通常用来获取资源<br>
HEAD: 获取资源的元信息<br>
POST: 提交数据，即上传数据<br>
PUT: 修改数据<br>
DELETE: 删除资源(几乎用不到)<br>
CONNECT: 建立连接隧道，用于代理服务器<br>
OPTIONS: 列出可对资源实行的请求方法，用来跨域请求<br>
TRACE: 追踪请求-响应的传输路径</p> <ul><li>get post 区别<br> <strong>从缓存的角度</strong>，GET 请求会被浏览器主动缓存下来，留下历史记录，而 POST 默认不会。<br> <strong>从编码的角度</strong>，GET 只能进行 URL 编码，只能接收 ASCII 字符，而 POST 没有限制。<br> <strong>从参数的角度</strong>，GET 一般放在 URL 中，因此不安全，POST 放在请求体中，更适合传输敏感信息。<br> <strong>从TCP的角度</strong>，GET 请求会把请求报文一次性发出去，而 POST 会分为两个 TCP 数据包，首先发 header 部分，如果服务器响应 100(continue)， 然后发 body 部分。(火狐浏览器除外，它的 POST 请求只发一个 TCP 包)</li></ul> <h2 id="url"><a href="#url" class="header-anchor">#</a> URL</h2> <p><code>https://www.baidu.com/s?wd=HTTP&amp;rsv_spt=1</code><br>
这个 URI 中，https即scheme部分，www.baidu.com为host:port部分（注意，http 和 https 的默认端口分别为80、443），/s为path部分，而wd=HTTP&amp;rsv_spt=1就是query部分。<br> <code>https://user:passwd@www.baidu.com/s?wd=HTTP&amp;rsv_spt=1#fragment</code><br>
user:passwd@ 表示登录主机时的用户信息，不过很不安全，不推荐使用，也不常用。<br>
fragment表示 URI 所定位的资源内的一个锚点，浏览器可以根据这个锚点跳转到对应的位置。</p> <h2 id="http-状态码"><a href="#http-状态码" class="header-anchor">#</a> Http 状态码</h2> <p><code>https://juejin.im/post/5e76bd516fb9a07cce750746#heading-2</code><br>
1xx: 表示目前是协议处理的中间状态，还需要后续操作。<br>
2xx: 表示成功状态。<br>
3xx: 重定向状态，资源位置发生变动，需要重新请求。<br>
4xx: 请求报文有误。<br>
5xx: 服务器端发生错误</p> <h2 id="http-特点-缺点"><a href="#http-特点-缺点" class="header-anchor">#</a> Http 特点 缺点</h2> <p>特点：</p> <ol><li>灵活可扩展。语义自由，只规定基本格式。传输样式多样性，文本，图片，视频等。</li> <li>可靠传输， tcp/ip。</li> <li>请求-应答。一发一收，有来有回。</li> <li>无状态。状态是指通信上下文信息，每次http请求都是独立，无关，默认不需要保留状态信息</li></ol> <p>缺点：</p> <ol><li>无状态。（缺点）需要长连接的场景，保存大量信息，以免传输大量重复信息。（优点）获取一些数据，不需要保存连接上下文信息，减少了网络开销。</li> <li>明文传输。主要指头部不使用二进制数据，而是采用文本形式。</li> <li>队头阻塞问题。当http开启长连接，同一时刻只能处理一个请求。请求好事过长的情况下，其他请求只能处于阻塞状态。</li></ol> <h2 id="accept-接受参数"><a href="#accept-接受参数" class="header-anchor">#</a> Accept 接受参数</h2> <ol><li>数据格式：</li></ol> <div class="language- extra-class"><pre class="language-text"><code>// 发送端  Response中
Content-Type: application/json
// 接收端  Request中
Accept: */*
</code></pre></div><table><thead><tr><th>发送端 Content-Type 接收端 Accept</th></tr></thead> <tbody><tr><td>text： text/html, text/plain, text/css 等</td></tr> <tr><td>image: image/gif, image/jpeg, image/png 等</td></tr> <tr><td>audio/video: audio/mpeg, video/mp4 等</td></tr> <tr><td>application: application/json, application/javascript, application/pdf, application/octet-stream</td></tr></tbody></table> <ol start="2"><li>压缩方式：</li></ol> <div class="language- extra-class"><pre class="language-text"><code>// 发送端  Response中
Content-Encoding: gzip
// 接收端  Request中
Accept-Encoding: gzip
</code></pre></div><table><thead><tr><th>发送端 Content-Encoding接收端 Accept-Encoding</th></tr></thead> <tbody><tr><td>gzip: 当今最流行的压缩格式</td></tr> <tr><td>deflate: 另外一种著名的压缩格式</td></tr> <tr><td>br: 一种专门为 HTTP 发明的压缩算法</td></tr></tbody></table> <ol start="3"><li>支持语言：</li></ol> <div class="language- extra-class"><pre class="language-text"><code>// 发送端  Response中
Content-Language: zh-CN, zh, en
// 接收端  Request中
Accept-Language: zh-CN, zh, en
</code></pre></div><table><thead><tr><th>发送端 Content-Language 接收端 Accept-Language</th></tr></thead> <tbody><tr><td>zh-CN, zh, en</td></tr></tbody></table> <ol start="4"><li>字符集：</li></ol> <div class="language- extra-class"><pre class="language-text"><code>// 发送端  Response中
Content-Type: text/html; charset=utf-8
// 接收端  Request中
Accept-Charset: charset=utf-8
</code></pre></div><table><thead><tr><th>发送端 Content-Language 接收端 Accept-Charset</th></tr></thead> <tbody><tr><td>text/html; charset=utf-8</td></tr></tbody></table> <p><strong>总结</strong><br> <img src="/Blog/assets/img/accept.4488d35e.png" alt="accept"></p> <h2 id="定长包体和不定长包体"><a href="#定长包体和不定长包体" class="header-anchor">#</a> 定长包体和不定长包体</h2> <h4 id="定长包体"><a href="#定长包体" class="header-anchor">#</a> 定长包体</h4> <p>发送端在传输的时候一般会带上 Content-Length</p> <div class="language- extra-class"><pre class="language-text"><code>const http = require('http');

const server = http.createServer();

server.on('request', (req, res) =&gt; {
  if(req.url === '/') {
    res.setHeader('Content-Type', 'text/plain');
    res.setHeader('Content-Length', 10);
    res.write(&quot;helloworld&quot;);
  }
})

server.listen(8081, () =&gt; {
  console.log(&quot;成功启动&quot;);
})
// helloworld

res.setHeader('Content-Length', 8);
// hellowor

res.setHeader('Content-Length', 12);
// 直接无法显示

</code></pre></div><h4 id="不定长包体"><a href="#不定长包体" class="header-anchor">#</a> 不定长包体</h4> <ol><li>Transfer-Encoding: chunked<br>
表示分块传输数据，设置这个字段后会自动产生两个效果:<br>
Content-Length 字段会被忽略<br>
基于长连接持续推送动态内容</li></ol> <div class="language- extra-class"><pre class="language-text"><code>res.setHeader('Content-Type', 'text/html; charset=utf8');
res.setHeader('Content-Length', 10); // 不生效
res.setHeader('Transfer-Encoding', 'chunked');
</code></pre></div><h2 id="http中处理表单的数据提交"><a href="#http中处理表单的数据提交" class="header-anchor">#</a> HTTP中处理表单的数据提交</h2> <ol><li>application/x-www-form-urlencoded</li></ol> <ul><li>数据格式会被编码成 <strong>&amp;</strong> 分割的键值对。</li> <li>字符以 <strong>URL编码方式编码</strong>。</li></ul> <div class="language- extra-class"><pre class="language-text"><code>// 转换过程: {a: 1, b: 2} -&gt; a=1&amp;b=2 -&gt; 如下(最终形式)
&quot;a%3D1%26b%3D2&quot;
</code></pre></div><ol start="2"><li>multipart/form-data</li></ol> <ul><li>请求头中Content-Type字段会包括boundary，其值为浏览器默认指定。如ontent-Type: multipart/form-data;boundary=----WebkitFormBoundaryRRJKeWfHPGrS4LKe。</li> <li>数据会包含很多个部分，每两个部分之间通过分隔符来分割，每部分表述均有HTTP头部描述子包体，如Content-Type在最后的分隔符上会加上--表示结束。</li></ul> <div class="language- extra-class"><pre class="language-text"><code>Content-Disposition: form-data;name=&quot;data1&quot;;
Content-Type: text/plain
data1
----WebkitFormBoundaryRRJKeWfHPGrS4LKe
Content-Disposition: form-data;name=&quot;data2&quot;;
Content-Type: text/plain
data2
----WebkitFormBoundaryRRJKeWfHPGrS4LKe--

</code></pre></div><blockquote><p>表单的提交都是post，get很少考虑</p></blockquote> <h2 id="http1-1解决http的队头阻塞问题"><a href="#http1-1解决http的队头阻塞问题" class="header-anchor">#</a> HTTP1.1解决HTTP的队头阻塞问题</h2> <ol><li>域名分片：一个域名是可以连6个长连接。比如sanyua.com 域名下面可以分出非常多的二级域名，能够指向同一台服务器，能够更好的解决HTTP的队头阻塞问题</li></ol> <h2 id="cookie"><a href="#cookie" class="header-anchor">#</a> Cookie</h2> <ol><li>储存方式：浏览器里面储存的一个很小的文件文本，内部用键值对的方式储存。</li> <li>向同一个域名下发送的请求，都会携带相同的Cookie，服务器拿到Cookie进行解析，拿到客户端的状态。</li> <li>服务器可以通过Set-Cookie字段对客户端写入Cookie。</li></ol> <div class="language- extra-class"><pre class="language-text"><code>// 请求头
Cookie: a=xxx;b=xxx
// 响应头
Set-Cookie: a=xxx
set-Cookie: b=xxx
</code></pre></div><ol start="4"><li>有效期可以通过Expires和Max-Age两个属性来设置。</li></ol> <ul><li>Expires过去时间</li> <li>Max-Age用的是一段时间间隔，单位是秒，从浏览器收到报文开始计算。</li></ul> <blockquote><p>过期会被删除</p></blockquote> <ol start="5"><li>作用域：作用域的两个属性：Domain，Path。给Cookie绑定了域名和路径，在发送请求之前，发现域名或者路径两个属性不匹配，那么就不会带上Cookie。路径 /表示域名下的任意路径都允许使用Cookie。</li> <li>安全：</li></ol> <ul><li>如果带上Secure，说明只能通过 HTTPS 传输 cookie。</li> <li>如果 cookie 字段带上HttpOnly，那么说明只能通过 HTTP 协议传输，不能通过 JS 访问，这也是预防 XSS 攻击的重要手段。</li> <li>对于 CSRF 攻击的预防，也有SameSite属性，SameSite可以设置为三个值，Strict、Lax和None。</li></ul> <div class="language- extra-class"><pre class="language-text"><code>a. 在Strict模式下，浏览器完全禁止第三方请求携带Cookie。比如请求sanyuan.com网站只能在sanyuan.com域名当中请求才能携带 Cookie，在其他网站请求都不能。

b. 在Lax模式，就宽松一点了，但是只能在 get 方法提交表单况或者a 标签发送 get 请求的情况下可以携带 Cookie，其他情况均不能。

c. 在None模式下，也就是默认模式，请求会自动携带上 Cookie。
</code></pre></div><ol start="7"><li>缺点： 容量小（4k）。性能缺陷（Cookie紧跟域名，不管域名下面得到某一个地址需不需要这个Cookie，请求会携带上完整的Cookie，随着请求的增多，会携带好多不必要的内容。通过指定作用域解决）。安全缺陷（以纯文本的方式在浏览器和服务器传递，很容易被非法截获，进行篡改，在Cookie有效期内重新发送给服务器，另外，在HttpOnly为 false 的情况下，Cookie 信息能直接通过 JS 脚本来读取。）</li></ol> <h2 id="http代理"><a href="#http代理" class="header-anchor">#</a> HTTP代理</h2> <h3 id="基本概念"><a href="#基本概念" class="header-anchor">#</a> 基本概念</h3> <ol><li>http基于请求-响应模型协议，客户端发送请求，服务端响应。</li> <li>代理服务器（双重身份）： 引入代理服务器，作为代理服务器相当于一个中间人角色。对于客户端来说，表现为服务响应。对于源服务器，表现为客户端发起请求。</li></ol> <h3 id="功能"><a href="#功能" class="header-anchor">#</a> 功能</h3> <ol><li>负载均衡：客户端的请求只会到达代理服务器，后面有多少服务器，ip是多少，客户端不知道。<strong>因为代理服务器拿到请求，通过不同发算法分发给不用的源服务器，让各台源服务器的负载尽量平均</strong>，算法很多（随机算法，轮询，一致性hash）。</li> <li>保证安全：利用心跳机制监控后台服务。一旦发现故障机，立马踢出集群，对上下的数据进行过滤，对非法的ip进行限流。</li> <li>缓存代理：将内容缓存到代理服务器，使得客户端可以直接从代理服务器获得，不用去源服务器那里。</li></ol> <h3 id="相关头部字段"><a href="#相关头部字段" class="header-anchor">#</a> 相关头部字段</h3> <div class="language- extra-class"><pre class="language-text"><code>Via 
客户端 -&gt; 代理1 -&gt; 代理2 -&gt; 源服务器
Via: proxy_server1, proxy_server2(源服务器收到请求头)
Via: proxy_server2, proxy_server1(客户端收到响应头)

X-Forwarded-For： 字面意思就是为谁转发, 它记录的是请求方的IP地址(注意，和Via区分开，X-Forwarded-For记录的是请求方这一个IP)。

X-Real-IP：获取用户真实 IP 的字段，不管中间经过多少代理，这个字段始终记录最初的客户端的IP

X-Forwarded-Host：客户端(注意哦，不包括代理)的域名

X-Forwarded-Proto：客户端(注意哦，不包括代理)协议名
</code></pre></div><h2 id="http缓存"><a href="#http缓存" class="header-anchor">#</a> HTTP缓存</h2> <ol><li>强缓存</li> <li>协商缓存</li></ol> <div class="language- extra-class"><pre class="language-text"><code>首先通过 Cache-Control 验证强缓存是否可用

如果强缓存可用，直接使用
否则进入协商缓存，即发送 HTTP 请求，服务器通过请求头中的If-Modified-Since或者If-None-Match这些条件请求字段检查资源是否更新

若资源更新，返回资源和200状态码
否则，返回304，告诉浏览器直接从缓存获取资源

</code></pre></div><h2 id="跨域"><a href="#跨域" class="header-anchor">#</a> 跨域</h2> <ol><li>浏览器遵循同源策略。协议，主机，端口都相同则为同源。</li> <li>非同源站点的限制：①不能读取和修改对方的DOM。②不能访问对方的Cookie，indexDB，localStorage。③限制XMLHttpRequest请求。</li></ol> <blockquote><p>当浏览器想目标URL发送Ajax请求时，只要当前的URL和目标的URL不同源，则产生跨域，被称为<strong>跨域请求</strong>
跨域请求的响应一般是被浏览器所拦截，响应其实是成功到达了客户端。</p></blockquote> <h3 id="cors"><a href="#cors" class="header-anchor">#</a> CORS</h3> <ol><li>cors其实是w3c标准，全称是跨域资源共享。</li></ol> <div class="language- extra-class"><pre class="language-text"><code>https://juejin.im/post/5e76bd516fb9a07cce750746#heading-69

简单请求：
请求方法：GET，POST，HEAD。
请求头取值范围：Accept，Accept-Language，Content-Language，Content-type(只限三个值application/x-www-form-urlencoded，multipart/form-data，text-plain)

非简单请求：先会预检请求-&gt;下来是CROS请求
体现：预检请求和响应字段
请求方法： PUT
</code></pre></div><h3 id="jsonp"><a href="#jsonp" class="header-anchor">#</a> JSONP</h3> <ol><li>虽然XMLHttpRequest对象遵循同源策略，但是script标签不遵守。 可以通过src填上目标地址从而发出 GET 请求，实现跨域请求并拿到响应、</li></ol> <blockquote><p>JSONP 最大的优势在于兼容性好，IE 低版本不能使用 CORS 但可以使用 JSONP，缺点也很明显，请求方法单一，只支持 GET 请求。</p></blockquote> <h3 id="postmessage"><a href="#postmessage" class="header-anchor">#</a> postMessage</h3> <h3 id="websocket"><a href="#websocket" class="header-anchor">#</a> webSocket</h3> <h2 id="nginx"><a href="#nginx" class="header-anchor">#</a> Nginx</h2> <ol><li>高性能的反向代理服务器，可以轻松搞定跨域。
<img src="/Blog/assets/img/nginxS.6eb69b97.png" alt="nginxS"></li> <li>正向代理：帮助客户端访问客户端访问不到的服务器，将结果返回给服务器。<strong>（正向代理服务器是帮客户端做事情）</strong></li> <li>反向代理：拿到客户端的请求，将请求转发给其他服务器。主要场景维持服务器集群的负载均衡（反向代理帮其他的服务器拿到请求，然后选择一个合适的服务器，将请求转交给它）<strong>（反向代理服务器是帮其它的服务器做事情）</strong></li> <li>解决跨域问题</li></ol> <div class="language- extra-class"><pre class="language-text"><code>比如说现在客户端的域名为client.com，服务器的域名为server.com，客户端向服务器发送 Ajax 请求。
当然会跨域了，那这个时候让 Nginx 登场了，通过下面这个配置

server {
  listen  80;
  server_name  client.com;
  location /api {
    proxy_pass server.com;
  }
}

Nginx相当于起了个跳板机的作用，跳板机的域名是client.com，让客户端访问client.com/api，这当然没有跨域，然后 Nginx 服务器作为反向代理，将请求转发给server.com，当响应返回时又将响应给到客户端，这就完成整个跨域请求的过程。
</code></pre></div><h2 id="dns"><a href="#dns" class="header-anchor">#</a> DNS</h2> <h3 id="dns如何工作"><a href="#dns如何工作" class="header-anchor">#</a> DNS如何工作</h3> <ol><li><p>提供的是一种主机名到IP地址的转换服务。（域名系统）是应用层协议，运行与UDP协议之上，使用53端口。</p></li> <li><p>递归查询：查询请求发出后，域名服务器代为向下一级域名服务器发送请求，最后向用户返回查询的最终结果。 客户端 --&gt; 浏览器缓存 --&gt; 本地hosts文件 --&gt; 本地DNS解析器缓存 --&gt; 本地DNS服务器。</p></li> <li><p>迭代查询：查询请求后，域名服务器返回单词查询结果，下一次的查询有用户自己请求。用户需要发出多次请求。</p> <p><img src="/Blog/assets/img/DNS.95b9b215.png" alt="DNS"></p></li></ol> <h2 id="http1-0"><a href="#http1-0" class="header-anchor">#</a> HTTP1.0</h2> <ol><li><p>是一个基于请求与响应模式的、无状态的、应用层的协议，常基于TCP的连接方式。</p></li> <li><p>浏览器和服务器之间的连接时短暂的。浏览器每次请求都需要与服务器建立一个TCP连接，服务器处理完后断开（无连接）。连接释放过程使得网络的利用率特别低。</p></li> <li><p>队头阻塞：1.0规定下一个请求必须在前一个请求响应到达才能发送。前一个响应一直不到达，那么下一个请求就不发送。同时阻塞后面请求</p></li></ol> <h2 id="http1-1"><a href="#http1-1" class="header-anchor">#</a> HTTP1.1</h2> <ol><li><p>长连接，增加connection字段，通过设置keep-alive保持http连接不断开。避免每次客户端和服务器重复的建立释放tcp连接。提高网络利用率，关闭时设置connection为false。</p></li> <li><p>管道化（pipelining）：基于长连接（keep-alive），可以将多条请求放入队列，当第一条请求发往服务器的时候，第二第三条请求也可以开始发送了，在高延时网络条件下，这样做可以降低网络的环回时间，提高性能。</p></li></ol> <blockquote><p>假如响应的主体是一个html页面，页面中包含了很多img，这个时候keep-alive就起了很大的作用，能够进行“并行”发送多个请求。（注意这里的“并行”并不是真正意义上的并行传输，具体解释如下。）
<strong>服务器必须按照客户端请求的先后顺序依次回送相应的结果，以保证客户端能够区分出每次请求的响应内容。</strong></p></blockquote> <ol start="3"><li><p>加入了缓存处理，新加的字段cache-control</p></li> <li><p>支持断点传输，增加Host字段。
<img src="/Blog/assets/img/http1.51c8c96b.png" alt="http1"></p></li></ol> <h2 id="http2-0"><a href="#http2-0" class="header-anchor">#</a> HTTP2.0</h2> <ol><li><p>采用二进制格式传输数据，Http1.1使用文本格式。</p></li> <li><p>对消息头采用了hpack压缩，提升了传输效率。Http1.1只采用了gzip压缩。</p></li> <li><p>多路复用（基于帧和流），真正实现了基于一个链接的多请求并发处理</p></li> <li><p>支持服务器推送。服务器可以主动推送给客户端信息。
<img src="/Blog/assets/img/http2.47a04815.png" alt="http2"></p></li></ol> <blockquote><p>只要有了请求结果数据，可以立即返回，不关心顺序问题，因为数据都被组装成了一个个frame帧，记录自己所属的数据流id，客户端接收到以后根据数据流id再组装即可。</p></blockquote> <h2 id="_301-302"><a href="#_301-302" class="header-anchor">#</a> 301 302</h2> <p><code>https://blog.csdn.net/5207/article/details/52668300</code>
301是说访问的资源已经永久删除啦，客户端要根据新的URI访问重定向；而302的意思就是说访问的资源可能暂时先用location的URI访问，但旧资源还在的，下次你再来访问的时候可能就不用重定向了。</p> <h2 id="_304"><a href="#_304" class="header-anchor">#</a> 304</h2> <ol><li>Last-Modified：最后的修改时间(服务器会添加)</li> <li>If-Modified-Since：当用户第二次请求index.html时，在请求中包含一个名为If-Modified-Since请求头，它的值就是第一次请求时服务器通过Last-Modified响应头发送给浏览器的值，即index.html最后的修改时间</li> <li>服务器会发响应码304，表示index.html与浏览器上次缓存的相同，无需再次发送(节省传输成本)，浏览器可以显示自己的缓存页面，如果比对不同，那么说明index.html已经做了修改，服务器会响应200。</li></ol> <blockquote><p>当用户第一次请求index.html时，服务器会添加一个名为Last-Modified响应头，这个头说明了index.html的最后修改时间，浏览器会把index.html内容，以及最后响应时间缓存下来。当用户第二次请求index.html时，在请求中包含一个名为If-Modified-Since请求头，它的值就是第一次请求时服务器通过Last-Modified响应头发送给浏览器的值，即index.html最后的修改时间，If-Modified-Since请求头就是在告诉服务器，我这里浏览器缓存的index.html最后修改时间是这个，您看看现在的index.html最后修改时间是不是这个，如果还是，那么您就不用再响应这个index.html内容了，我会把缓存的内容直接显示出来。而服务器端会获取If-Modified-Since值，与index.html的当前最后修改时间比对，如果相同，服务器会发响应码304，表示index.html与浏览器上次缓存的相同，无需再次发送(节省传输成本)，浏览器可以显示自己的缓存页面，如果比对不同，那么说明index.html已经做了修改，服务器会响应200。</p></blockquote></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/Blog/assets/js/app.9c47bd80.js" defer></script><script src="/Blog/assets/js/2.b786c2ed.js" defer></script><script src="/Blog/assets/js/6.99fdf330.js" defer></script>
  </body>
</html>
